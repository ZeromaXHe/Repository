# Future

多线程讲一下，FutureTask

future的底层实现异步原理

# volatile

volatile的底层如何实现，怎么就能保住可见性了？

 volatile原理

volatile关键字，可见性。

volatile作用，变量不断加一，是否能够并发加正确，非原子性

volatile作用和底层如何实现

volatile ，作用，底层， lock 前缀的指令， 多CPU的嗅探机制，多处理器下的缓存一致性协议

volatile 的特点，保证原子性么

# ThreadLocal

static能不能修饰threadLocal，为什么，这道题我当时一听到其实挺懵逼的

~~~java
private HashMap<Integer,Integer> map = new HashMap<>();
线程一：map.put(1,2);  线程二: map.put(1,3);
两个线程去执行一段代码
if(map.get(1) == 2) 输出...
if(map.get(1) == 3) 输出..
问线程一和线程二执行完上述完会出现什么问题？
我回答说可能出现覆盖，跟执行顺序有关系，怎么解决，我说map用锁修饰？可以，有没有其他的，再想一想，想一想？？
然后想了好久，没想出来，他说ThreadLcoal你没听过么？我豁然开朗，于是开始拼命解释原理实现、可能导致的内存泄露问题，挽救路线完成。
~~~

楼主嘴贱，扯了一下ThreadLocal，疯狂问这个，底层实现我还可以讲一下，问一下使用背景，怎么使用？有点懵，忘了

多线程方面，ThreadLocal，线程池

ThreadLocal相关

# synchronized

像synchronized这种，得知道膨胀过程，锁膨胀实现过程，比如对象头如何变化，monitor是怎么回事等

Synchronized是重入的吗？和lock区别，以及synchronized对于普通方法和静态方法加锁。

synchronized和Reentranlock区别以及底层实现原理

synchronized底层的实现原理（自旋锁、偏向锁、轻量级锁、重量级锁），什么是重量级锁，定义是什么

synchronized关键字作用与静态方法和普通方法的区别，通过不同的对象的监视器来进行并发控制，monitorenter， monitorexit

lock sychronized区别

sychronized锁住方法和锁住代码块的区别，什么时候会出现死锁

synchronized的锁的机制，自旋锁，可重入锁，偏向锁，轻量级锁、重量级锁，锁的膨胀过程

synchronized 和 lock 的区别

synchronized相关：锁住的是什么，实现原理，1.6优化，和lock的区别

问synchronized锁的原理，synchronized修饰静态方法的时候锁是什么？  （这个问题我真的一脸懵，锁是什么？这个问题这么泛）我前面已经介绍了synchronized锁的原理（monitor监视器），他说不是前面介绍的锁的原理，我还问他说你说的是锁的作用范围吗？会锁住这个类，他说不是，说他问的是底层原理，问的是源码，我说您说的是synchronize锁在对象头里面的Lock Record标志位吗？是说锁的一些优化吗，例如偏向锁，轻量级锁，重量级锁吗？感觉有点不像，他说不是，我说能不能提示一下，感觉这个问题太宽泛了，然后重点就来了，他说了**这个懂行的人就懂**，我。。。我说那您能提示一些概念我下去自己查一下（你倒是提示一点让我下去学习一波也是好的呀），他就是不说，然后就说好，下一个问题。  

# 代码题

三个线程如何实现交替打印ABC

如何线程安全的实现一个计数器

生产者消费者模式，要求手写过代码，还是要知道的

写单例模式，加锁，比较两种区别

实现一个blockqueue

实现36进制加法，中间不准转成10进制。

输入一组数字，长度为N，按照数字由小到大，输出前K个数字。

算法：链表反转

算法：正方形矩阵内实现最小路径。

在一个字符串中找到重复次数最多的子串，这个子串长度大于2。

一个数去掉k位使其最大/最小(贪心)

手写树的中序遍历的递归和非递归方法

手写一个算法对一个数组的数组排序其中里面一层的数组里的元素是排好序的	一开始写了个归并，后面面试官说时间复杂度太高，不如直接n个指针指向每一个里层数组直接排序

一道算法题，一个数组找连续子数组和为0的数组，并返回其中最大的长度 	这道题一开始用了贪心，但说最坏情况下复杂度太高，后来经过面试官提醒实现了一个O(n)时间复杂度

并发题目，数字 0-9，线程 A 先打印，打印到 5 之后，线程 B 接着打印。我说了用等待通知机制的思路（synchronized、ReentrantLock ），面试官说不能在外部加代码，只能在 `run` 里面写代码，我说用 AtomicInteger，说了下思路，要我写出代码，我口述了下代码，他还是不满意，说还是引入了外部变量，然后我说没有其他思路了，就没再问  

手撕算法，LeetCode原题 23. Merge k Sorted Lists，有一点点不一样就是要求后面没满k个的也转置。

手撕算法，链表快排，用快排的思想实现对链表的数据结构的数据做快排。

代码题1：输出一个单向链表的入环节点，如果没有则输出 null（先通过快慢指针得到 fast 和 slow 相遇的节点，再令 fast 从相遇点出发，slow 从链表首节点出发，一次一步，相遇的节点为入环首节点。面试官要求用数学公式推导为什么要这么做）  

代码题2：合并两棵二叉树，对于两棵树都存在的节点，节点值相加，否则空的位置用另一棵树的节点来代替

# 线程池

线程池有哪些创建方式和安全性问题

有哪些线程池的类型

线程池中LinkedBlockingQueue满了的话，线程会怎么样

线程池的底层原理和实现方法

线程池原理，拒绝策略，核心线程数

线程池，这个还是很重要的，在生产中用的挺多，四个线程池类型，其参数，参数的理解很重要，corepoolSize怎么设置，maxpoolsize怎么设置，keep-alive各种的，和美团面试官探讨过阻塞队列在生产中的设置，他说他一般设置为0，防止用户阻塞  

线程池的关键参数有哪些？当没有任务的时候，核心数线程还需要保持么？核心线程数是怎么理解的？

线程池然后说到了无界队列，引出了内存溢出

使用线程池的优点是什么

线程池中异常抛出的路径知道吗

线程池原理、类型以及关键参数

项目中用到了线程池，用的什么线程池，怎么配置的参数？

线程池，怎么实现的，要注意什么？

问了java线程池的具体参数，问了最长空闲等待时间的具体情况，释放线程的过程，什么时候什么情况释放，释放时队列的情况是怎么样的。然后给了一个具体的场景分配服务器和设置线程池参数。单次任务的cpu时间是100ms，要达到一秒钟1000次任务量，服务器是4核8g，问要多少服务器，每个服务器具体的线程池参数配置是多少。  

Java 并发编程，说一下理解，线程池的优缺点

几种线程池 参数含义 如何选择

问线程池参数设置和每个参数的意义，问线程池怎么从工作队列中取任务

Java基础，实现多线程的方法，线程池有哪些，怎么扩容。

# 线程

线程之间的交互方式有哪些？有没有线程交互的封装类 （join）

线程的实现方式——runnable thread future

线程回调，这块 被问过让我设计一个RPC，怎么实现，其实用到了回调这块的东西

线程的几种状态

sleep 和yield方法有什么区别

线程和进程区别，进程为什么开销大？有哪些开销

描述一下有序性

java里实现线程有哪些方式

说说线程的状态

多线程和多进程的使用场景

线程的状态 ， 新建，就绪，running， wait， blocked， terminated

sleep 和 wait 的区别， 类的不同，是否会释放持有的锁，monitor

创建线程的方式，使用过的有那些，为什么没使用过 Callable 和 Future

多线程说一下， 你项目中用到了吗， 你怎么写的线程？几个线程有什么区别？ 线程池用了吗？

Thread的join方法了解吗？
（我说相当于if(isAlive())wait(0)）
那为啥不直接用wait(0)?（不知道）

线程竞争

一个线程的生命周期

阻塞和sleep的区别？？

多线程安全（锁机制、）

线程间通信和进程间通信，管道法用的时候什么管道

多线程，sleep，wait，yield

并发和并行的区别

Java 并发编程，进程和线程的区别，协程，同步机制

Java 多线程同步的方法

wait 和 notify 以及 notifyAll

线程安全的本质是什么？如何解决可见性的问题？可以想出哪几种方法？

进程和线程区别 多进程和多线程区别

创建线程的几种方法

 什么是线程安全 如何实现线程安全

线程同步方式

线程通信方式

问线程安全怎么实现

问创建线程的几种方式，  我答了thread和runnable，还有callable和Future，还有线程池创建，他就说callable和runnable不是一样的吗，你干嘛说两个，我说的一个是有返回值的，一个是没有返回值的，他说我问的是创建线程的方式，你这两个是两种吗?......，还有，你这线程池能创建线程吗？（......）  

# 高并发

重排序，happens-before，内存屏障

快速失败(fail-fast)和安全失败(fail-safe)的区别是什么

如何排查多线程问题

# Java并发工具包

JUC说说你知道的东西

cyclicbarrier 和countdownlatch的区别，个人理解 赛马和点火箭

说一下JUC包

看你对多并发熟悉是吧，来，多个线程同时去访问同一个代码块，我想知道最后一个线程什么时候执行完，怎么做。答CountDownLatch。

AtomicInteger怎么实现的？

i++ automicInteger，线程安全类，三个指令，重排序

ConcurrentHashMap

CountDownLatch

问我对多线程和JUC熟悉吗，我说了AQS、ReentrantLock、线程池、CountDownLatch、CyclicBarrier，然后问了我AQS是什么，介绍了AQS的一部分内容，和具体实现。

ConcurrentHashMap 用到了 synchronized 么，说说 synchronized 的底层是怎么实现的

# Java锁

 Java锁机制，都说一下~

乐观锁和悲观锁的使用场景

悲观锁的常见实现方式：lock synchronized retreentlock

乐观锁：CAS MVCC

读写锁的实现方式，16位int的前八位和后八位分别作为读锁和写锁的标志位

自旋锁

死锁的条件，怎么解除死锁，怎么观测死锁。

CAS原理，写了个底层源码

用过哪些锁呀？synchronized和reentrantLock区别

讲一讲reentrantLock底层啥样子，实现api

JDK 可重入锁， 读写锁 ， 底层 AQS，抽象队列同步器的机制

悲观锁和乐观锁， 概念上，JDK 中的类， CAS的缺点， 空转，ABA问题。使用pause指令， AtomicStampedReference

CAS， AQS 实现

乐观锁， 悲观锁， 举例， 可以顺便说一下， CAS，volatile， synchronized

Synchronized 和 ReentrantLock 区别

CAS 实现以及优缺点，用 CAS 实现阻塞队列（我也没听明白，自己说了下思路，面试官就说也行吧）

乐观锁，悲观锁

说一下锁

读写锁了解吗

CAS三大问题及解决方式

介绍一下Java中的锁？可重入锁如何实现的可重入？

乐观锁悲观锁，在Java中的体现，举例

CAS乐观锁原理

类锁和对象锁的不同

# Java基础

抽象类和接口有什么不同

接口和抽象类，面试官问我是怎么理解的，我说接口对应功能，抽象类对应属性，然后面试官给我说了他的看法，说抽象类更偏向于一种模板~ 然后又交流了一下各自的想法

注解的原理

注解和接口的区别

Java三大特性

基本类型和包装类型的区别，涉及自动装箱和拆箱，怎么做的，原理

&和&&区别

String ，StringBuffer，StringBuilder哪个是安全的，我就说反过。。

字符串编码的区别，被问到过，我觉得比较容易被忽视的一个点

什么是泛型，怎么用泛型

Comparable和Comparator接口是干什么的，其区别

多态的原理是什么，感觉这个很容易被问到

如何通过反射和设置对象私有字段的值

反射的实现及原理  希望大家能够好好看一下反射的原理，怎么确定类，怎么调方法

BigDecimal java中的一个类，我觉得，多一些思考是比较重要的

在java中，0.000000001 和0其实是判定相等的，那么我怎么才能得到真实值呢

重载和重写的区别

String是基本数据类型吗？能被继承吗？final关键字

java中反射获取到的属性和方法是存储在什么地方

反射如何获取方法上的注解

说一下final

java的链式调用是怎么实现的

说一说NIO

java基本类型和占用字节数，回答八种，也特意提到boolean类型，1或者4个字节，为什么？

你说你熟悉Java基础，那讲一讲int与Integer的区别。我特意解释了拆箱装箱、Integer的一些源码、泛型的应用。

说一下string stringbuffer  stringbuilder

接口和虚函数。

final关键字，final修饰的方法不能被重写，能被重载吗
（在这里额外提了Java内存模型对于final的底层实现）

equals 和 == 
（可以谈谈自动装箱方面的不同）

了解IO吗？BIO、AIO

java类变量的加载过程，父类静态变量和子类静态变量哪个先加载，int和long哪个先加载

java元注解

讲一下 static

讲一下基本类型，String 是不是基本类型

讲一下 String 基本类型的转换

讲一下 final

讲一下接口和抽象类

讲一下 Java 里面的 clone

GBK 里面中文字符占用字节数

动态编译和静态编译的区别

eauals和==的区别

java文件读写

反射机制

封装 继承 多态

equals和hashcode

stringbuffer和stringbuilder

wait和sleep

接口和抽象类

上手就问你了解反射么，讲讲吧？我真不知道从哪里讲起。
然后问反射的private的访问，关于是否能访问私有成员变量
那private还有什么用
反射的优缺点
反射的使用场景
反射怎么使用

反射的作用，反射相关的类（我说了一些反射相关的方法，说不太清楚相关的类是什么意思，后来才知道他说的是construction这种类，我就说还有字段，方法这种，他还说我没回答清楚他的问题，我说您是要我把这些单词说出来吗？他又说你和别人说类的时候不可能说构造器，肯定说的是construction这个单词，好吧。。）  

问创建对象的几种方式

# Java内存模型

Java内存模型说一下

JVM的内存模型 （我开始以为他问的是工作内存和主内存），他说不是，不用讲这些，他说记住我问的问题，我说您问的是栈，堆之类吗？他说是的，然后就给他解释（我一直记得内存结构是这些，内存模型是工作内存和主内存，还特意区分了）  

# Java集合

HashMap和ConcurrentHashMap哪个效率更高？为什么？

ConcurrentHashMap和HashMap

常用类型

- ​      Hashmap 源码级掌握，扩容，红黑树，最小树化容量，hash冲突解决，有些面试官会提出发自灵魂的审问，比如为什么是红黑树，别的树不可以吗；为什么8的时候树化，4不可以吗，等等      
- ​      concureentHashMap，段锁，如何分段，和hashmap在hash上的区别，性能，等等      
- ​      HashTable ，同步锁，这块可能会问你synchronized关键字 1.6之后提升了什么，怎么提升的这些      
- ​      ArrayList  优势，扩容，什么时候用      
- ​      LinkedList  优势，什么时候用，和arraylist的区别 等等      
- ​      HashSet，TreeMap

List，Map，Set接口在取元素时，各有什么特点

hashmap线程安全实现

hashmap扩容方面做了哪些优化？我只答出了红黑树。

concurrenthashmap中1.7和1.8的区别

arraylist和linkedlist区别

说下hashmap/hashtable/concurrenthashmap，说底层了；

那你说一说hashmap的实现(这里非常详细的展开说了实现原理）

那hashmap安全吗？(不安全，我们可以用blabla...)

那说说concurrenthashmap的原理

如果一个hashmap有一亿条数据怎么实现高效查找; 答：可以考虑优化hash函数减少碰撞(事后大佬指点分布不均匀的话更好的应该是进行分层)

阅读过哪些集合源码？重点提了hashmap的哈希算法

你对集合那么熟悉，看过哪些源码？HashMap，HashTable，ConcurrentHashMap等等

讲到ArrayList，讲一下初始长度，扩容机制。

 说一下ArrayList和LinkedList区别，然后讲了大量数据下在LinkedList前1/10处插入效率高，在ArrayList中部以及后部插入效率高，解释原因。

楼主故意引线程安全的CopyOnWriteArrayList，然后把源码吹了一下。

HashMap和Hashtable区别，我特意提了哈希算法不一样，各自的算法原理，提问：为什么不一样？

Hashtable为什么不用HashMap的？

HashMap1.8优化在哪些方面？

CopyOnWriteArrayList底层实现

看过哪些源码，（hashmap，concurrenthashmap，hashtable），那你说说各自的特点。（把concurrenthashmap和hashtable说混了，面完了才想起）

集合类说一下， 说一下ArrayList 和 LinkedList， ArrayList为什么用数组，怎么扩容， 为什么扩容的时候新建数组，而不是数组去扩容。

HashMap 的底层， 跟hashtable有什么区别？

HashMap和ConcurrentHashMap

 Arraylist线程安全吗？有其他数据结构是线程安全的吗？

Map ,hashmap底层实现？链表过长怎么办？红黑树特点 复杂度

平衡二叉树？hashmap底层实现，红黑树特点？

Java中线程安全的类

问我HashMap是不是线程安全的，为什么不安全，会出现哪些问题，我讲了扩容出现环死循环，然后问我死循环cpu的状态是怎么样的，我答是100%，然后问我死循环其他线程能不能使用cpu，然后又问比如一个四核cpu占有率又是多少，cpu100%对整个服务器有什么影响。  

HashMap，ConcurrentHashMap，说了ConcurrentHashMap的1.7和1.8的不同和具体实现

集合类，HashMap 的底层结构，为什么使用红黑树

链表和数组的区别，提到 ArrayList，讲一下插入删除和扩容

HashMap 查找效率最低和最高

ConcurrentHashMap 读写加锁的情况

HashMap 的扩容，JDK 1.7和 JDK 1.8 扩容的区别

有几种方法可以让 HashMap 变得线程安全

HashMap的数据结构怎么样的，我就说了一下 数组和链表这种，不知道是不是他的意思
key可否null，为什么
是否线程安全，否则会发生什么情况

HashMap、Hashtable、ConcurrentHashMap的比较（扯了Hashtable不绝对安全）

# Java8

JDK8的stream的操作

版本8-12，每个大版本更迭引入的新功能或新特性是什么

在JDK8中移除永久代，并把方法区移至元空间，这么设计的原因是什么

jdk1.8和jdk1.9的新特性。听到这个楼主一脸懵逼，1.9根本不会，只能把1.8的一些新特性结合具体例子跟他讲了一下，比较满意。

java1.8中有哪些新的特性？(随便答了一些）

# 异常

异常捕获处理

讲一讲异常， throwable, exception， error

try catch finally 都出现return的情况

异常有哪几种方式， 怎么自己写一个异常。

Error和Exception区别

# 算法

堆排序、栈实现队列、反转链表

1亿个手机号码，判断重复

排序算法

- 八大排序算法真的是面试宠儿
- 最常考 快速排序 和归并排序
- 哪些排序算法是稳定的 哪些是不稳定的
- 堆排 也应该掌握

回溯算法

- 走迷宫
- 游戏通关

递推算法

- 走台阶
- 断钢筋

背包问题

- 装最多的东西

贪心算法

- 覆盖问题
- 时间问题

动态规划算法，你写过吗？我说写过leetcode上的问题

两个链表判断是否相交，怎么找第一个相交点

开放题，服务器1上有40T的数据，服务器2上有一个任务需要这些数据，在网络带宽限制的情况下，怎么把数据快速传到服务器2上

设计一个数据结构实现LRU

来，继续撸算法吧。给一个string类型数字字符串，比如“1026”，范围0000-9999，打印繁体读法string-----"壹仟零贰什陆”

数组最长递减子序列，写了个动态规划，比较简单。

非递减序列找到第一个大于x的位置，时间复杂度要求lgN（二分）

一个完全由数字组成的字符串，求字符序列子串可以被k整除的个数，要求O（N），有点难度，没A全

给定一个数组（全为0~9的数字），可能有重复，挑出数字自由组合，给定数k，找最小的大于k的数（回溯），没撸完，这个是败笔，撸了半个小时，跟面试官讨论了好久，面试官也提示我用回溯，可是我太菜不会呀。

两个文件，分别存放50亿个URL，每个URL60个字节，内存4G，找两个文件并集。

一个文件，存放45亿已排好序的32位int整数，找出一个出现次数大于一次的整数，找出一个就行。

找到字符串中第一个出现次数只有一次的字母，比如abcdab，输出c，两种方法

写了个二分查找。面试官问我，你确定数组就是排序的么（我心里无语），数组非空判断不用（我服）？

随便写个排序 我写的快排

分析一下快速排序的时间复杂度和算法复杂度？

算法题：计算一个有环链表的节点数

归并排序？

归并排序的时间复杂度？

topK问题

一个long类型的数，让他整个位倒转，能不能只迭代8次完成

一个数组一个数只有一个其他数两个，找到单独的那个数（LeetCode原题）

一个数组有一个数超过一半，找到这个数（LeetCode原题）

问了一个大数据判重的题，只有一台机器，数据是int范围，给了3个思路，一个是hash切分大文件为小文件，对小文件用hashset去做判重，还有用BitSet，单机大概500mb内存可以解决，最后一个是用布隆过滤器解决，内存利用更小。 然后问我布隆过滤器的误差怎么解决，我说可以加大hash数量或者hash的范围，还有可以用多个独立的不同的布隆过滤器来解决。  

算法，排序算法，给场景考虑采用哪种

递归需要考虑一些什么，提到动态规划

算法题：156个元素数组，二分查找最少要多少次比较，最多多少次

敏感词过滤算法的过程

堆排序的实现过程，怎样调整堆；快排有没有稳定性，为什么

编程题6个（给了40分钟，只写了4个题）

- 将一个数字转任意进制（2-50进制） 
- 写一段代码判断当前环境的字节序 
- 实现单链表的有序插入，并思考如何在有序链表的基础上提高查找效率 
- 给定一个数组，求 max(A[i] & A[j])，时间复杂度不高于O(N2N^{2}N2)  
- 给定一个无序的大数组，如何找出中位数？如果有100亿个数，内存只有 4G 呢？ 
- KMP 算法

给了一个例子让阐述解决思路：有十个线程，更新变量的值，每次加1，同时打出，每个线程只能打印一次，当十个线程打完以后，同时打一句话任务结束。

算法两道：

  1.找到两个存放了1亿多字符串的文件的相同的字符串 

  2.假设一个场景，支付系统和订单系统，支付失败后订单系统怎么知道失败（感觉是分布式事务的一致性，我开始问他是两个系统吗？是分布式吗？他也不回答我，后面复述一遍问题我又问了一遍分布式事务的一致性，他才说是的）

# 数据结构

B+树的叶子节点

树

- 根据遍历结果恢复树，递归
- 二叉搜索树第k大
- 树的和为k的路径
- 层次遍历
- 根据层次遍历和后序遍历恢复树
- 镜像树
- 树的深度
- 是不是平衡二叉树

链表

- 反转链表
- 链表环的入口
- 交叉链表的交点
- 复杂链表的复制
- 二叉搜索树变成双向链表

红黑树和跳表

红黑树的优缺点

栈用过吗？用栈实现二叉树非递归中序遍历

双向链表 优点

有哪些二叉树？搜索二叉树、平衡二叉树、红黑树，举个例子，什么时候用过

平衡二叉树和普通二叉树有什么区别，为什么要用平衡二叉树

各种hash区别，底层怎么实现的

问平衡二叉树，给了一些数据，让我讲出每一个插入后，树的状态。

堆栈的特点和应用场景

介绍下树，前缀树的应用场景，可以怎样优化

# Spring

ioc原理详细讲讲，源码看过么

aop原理和应用

Spring

- ​      spring的两大特性- ioc  aop，实现原理      
- ​      如果存在A依赖B，B依赖A，那么是怎么加到IOC中去的      
- ​      beanFactory的理解，怎么加载bean      
- ​      FactoryBean的理解      
- ​      基于注解的形式，是怎么实现的， 你知道其原理吗，说一下      
- ​      依赖冲突，有碰到过吗，你是怎么解决的~      
- ​      bean的生命周期      
- ​      依赖注入的几种方式      
- ​      spring中的自动装配方式      
- ​      总之，建议大家如果时间充裕，还是好好看看源码~~

spring中是如何进行依赖注入的，依赖注入的原理

讲一讲spring的事务特性

spring bean的实例化过程。 ——不熟悉的地方不要写上去。

IOC 的实例化过程，原理

AOP， JDK代理， Proxy， InvocationHandler

AOP 动态代理

Spring 问题，IOC、AOP、代理模式，JDK 和 CGLIB 区别，代理模式底层实现，对 IOC 的理解

一个类里面有两个方法A和B，方法A有@Transaction，B没有，但B调用了A，外界调用B会不会触发事务？

spring中用到的设计模式

为什么要用spring,不用spring的话要怎么办

什么是AOP，举个例子

Spring的bean的生命周期

Spring的bean的加载过程，越具体越好，答了bean的生命周期，bean获取那一块的确不太熟没敢答。

为什么用 Spring, SpringMVC

AOP 的原生 API 有没有了解

AOP 动态代理有哪几种实现方式，有什么区别

bean 的生命周期

 ioc 含义和原理

aop 含义和原理

spring事务

IOC、DI原理

Spring怎么注入一个私有成员变量？（反射，设置可见性true）

# Spring MVC

除了@ResponseBody，controller层如何标准返回给前端所要的数据类型？你会怎么实现？

Spring MVC的原理和流程

SpringMVC

- ​      和struct的区别      
- ​      你一般是怎么对mvc项目进行分层的      
- ​      dispatch-servlet的工作原理      
- ​      ***怎么配置，工作原理      
- ​      为什么有了springmvc还要在项目中使用spring？      
- ​      springmvc的运行机制，dispatch -》 hanldermapping-—》handler -》handlerAdapter-》执行handler-》modelandview -》 返回mv -》 视图解析器-》返回view -》 渲染响应

SpringMVC 有几个IOC容器？由什么决定？有点懵，特意反复跟面试官确认这个问题，在IOC概念饶了一圈又一圈，回答不好。

SpringMVC的 dispatcher-servlet的请求解析过程

SpringMVC 的请求过程，客户端的查询请求到渲染页面返回给用户的流程

spring mvc流程

springmvc流程讲一下

SpringMVC执行流程

# MyBatis

mybatis

- 配置
- 怎么防止依赖注入
- 和hibernate相比，为什么选择mybatis
- 怎么让mapper 和xml对应
- 如何自动包装对象
- 逆向工程

mybatis如何进行类型转换

mybatis的xml有什么标签

Mybatis是如何做到动态sql解析

Mybatis是如何实现xml文件与实体类的映射

Mybatis优点

mybatis防止sql注入怎么实现

# Spring Boot

SpringBoot Starter原理

SpringBoot

- ​      和spring相比，做了什么改变      
- ​      starter你知道哪些      
- ​      如何部署springmvc项目 以及如何部署springboot项目      
- ​      springboot的插件，你使用过哪些

问 Springboot 和 Spring 区别

springboot怎么启动的？遇到过什么问题吗？是放到tomcat吗？启动的时候加载的信息是什么东西？

为什么要用springboot+mybatis

SpringBoot 有什么好处，答一个好处就问是怎么实现这个好处的（这谁记这个，服）

# Spring Cloud

降级处理hystrix了解过么

限流算法

eureka 2.0已经停止更新了，替换？ Consul、Nacos、Etcd

介绍服务降级和熔断
服务限流和降级有什么区别
服务降级原理
服务限流原理（算法）
怎么实现令牌桶
令牌桶中令牌用对象还是计数器，各有什么优缺点（生命周期）
令牌生产和消费策略
令牌生产和消费在一个桶和两个桶怎么控制

Eureka的服务注册发现原理，服务剔除原理（顺便说了Eureka集群）

配置中心怎么用的（没做，架构图上画了，说了GitHub）

# Shiro

shiro

- 怎么做权限控制
- 为什么使用shiro，你直接使用aop不也是一样的吗，shiro还有标签~各种扯
- shiro的两个最重要的函数
- 认证和授权是怎么做的

# Redis

Redis的缓存淘汰策略有哪些？

redis的热点key问题

redis的更新策略（先操作数据库还是先操作缓存）

Redis

- ​      为什么选择redis，有什么好处，基于内存，抗压      
- ​      redis集群怎么进行数据分配，hash槽      
- ​      redis的主从复制是怎么实现的      
- ​      redis的数据结构 最常问 hash是什么， sorted set怎么实现的      
- ​      因为项目的原因，问我redis是怎么保证高可用的，主从和集群怎么加在一起      
- ​      redis 和memcache的区别      
- ​      redis 分布式锁的实现原理  setNX 啥的      
- ​      redis模拟session，除了redis你还考虑过别的吗      
- ​      redis的缓存击穿，怎么处理这个问题      
- ​      redis是基于内存的，那么它有持久化吗，aof  rdb      
- ​      aof和rdb的优缺点，你在项目中使用的哪一个      
- ​      redis 的淘汰算法，你在哪配置淘汰算法

Redis中数据倾斜问题

Redis的哈希环最多有16384个槽，为什么是16384？ 当哈希环出现“数据倾斜” 该如何解决？

说一下Redis Cloud的设计与实现

描述一下Redis中的哨兵机制，主从切换具体是如何实现的？

Redis里面使用到了Raft协议，你有了解么？

Redis有哪些数据结构

Redis和LevelDB的区别

Redis中的基本数据类型

Redis中的IO模型

Redis中消息模型中消费线程数和生产线程数框架中设置的为多少

Redis中的命令

set和zset区别

zset底层排序是如何实现的

zset排序是通过什么顺序进行排序的

Redis 源码读过吗？直接说源码

谈谈你对redis的理解。提到一个redis热启动，没听过，一脸懵逼。

秒杀过程中怎么保证redis缓存和数据库的一致性？

多个用户请求同时第一次访问空的redis，怎么样不使redis崩溃？

来，谈一谈你的redis理解，为什么使用prostuff，不用传统的序列化？

多个线程同时访问为空的redis，怎么解决（这两个问题跟网易一模一样）

使用redis来实现单点登录，那么当单个redis节点内存不够的时候，怎么办？ 集群化，redis-Cluster

redis，主从，哨兵，集群，分布式锁。

redis的对象类型， 每种对象类型对应的底层的数据结构，参考redis设计与实现。

1.  string, list, hash, set, sortedset. 						
2.  每种对象都至少有2中数据结构， SDS, linkedlist, ziplist, intset, ziplist, skiplist

redis，分布式锁， redlock算法

redis介绍， 系统中的角色，作为缓存， 分布式session服务器

redis的 性能，可用性，主从复制+哨兵， redis缓存访问有网络上的消耗。

redis事务， 分布式事务， 2PC， 本地消息表等， 3PC

分布式锁（项目）， redlock，持久化机制，主从复制过程， redis知道的都说出来

redis解决分布式Session问题， 单点登录， Session一致性问题，描述，如何实现

讲一讲Redis的特性，redis为什么快，redis你用了哪些数据结构，粉丝列表可以用redis存储吗，redis集群会配置吗，redis宕机后数据会消失吗，redis可以持久化吗，怎么持久化。

Redis 数据结构，底层实现、ZSET 底层实现

一致性 Hash（我从余数 Hash 讲到 一致性 Hash 再到一致性 Hash 实现再到一致性 Hash 缺点再引出 Redis 原生集群实现去中心化的哈希槽实现）讲了十分钟吧，讲完面试官都笑了，然后问我 Redis 看过哪些书，自己说了两本 + 掘金小册一个  

Redis 持久化实现方式，优缺点

Redis 分布式锁实现，Redis 集群选举

Redis 集群选举，心跳检测

项目中用到了Redis，介绍一下Redis数据类型

你们怎么保证Redis缓存和数据库的数据一致性？缓存雪崩？击穿？穿透？

Redis线程安全吗，事务支持一致性吗

redis特点？和Mysql区别？缺点？数据存储在哪的

怎么想到要用redis缓存数据的

问Redis为什么快，我答内存数据库、单线程、IO多路复用的epoll。

问Redis,问了持久化，RDB和AOF，然后问了AOF的具体过程，问了AOF文件重写是怎么做的，问了Redis为什么单线程，Redis底层的数据结构，SDS

说一下Redis的使用场景

说一下基于Redis实现的分布式锁，问的比较细，比如线程阻塞导致，导致锁过期，其他线程获取了锁然后前一个线程又释放了第二个线程的锁这种，还问了一个线程等待Redis的分布式锁，整体等待时间的是怎么样的（这个答得不太好，主要没理解他这么问的意图）  

为什么用 redis，有什么优势

Redis 的数据结构

Redis 的槽分配，如果一个集群节点挂了怎样重新分配对应的槽 

Redis 集群的哈希算法和渐进式 rehash 的过程 

Redis 主从架构，如何保持数据一致性 

Resdis 节点间如何通信，用了什么协议，具体流程

如何解决缓存雪崩和缓存击穿

Redis 的容灾，单机和分布式环境分别说一下

Redis 的两种持久化，各自的优缺点

Redis 的 IO 多路复用模型

缓存击穿，穿透，雪崩怎么处理，怎么预防

redis锁机制，怎么处理并发（我说这个不太熟，mysql的锁机制比较熟，小哥哥说那你讲一下）

# MySQL

MySQL锁机制

myql间歇锁的实现原理

Java和mysql的锁介绍，乐观锁和悲观锁

MySQL

- ​      引擎，区别是什么      
- ​      索引，有哪些索引，怎么用      
- ​      索引为什么要用B+树，B+树和B-树的区别是什么      
- ​      mysql的默认事务级别，一共有哪些事务级别      
- ​      mysql的一些语句，这些肯定需要掌握的      
- ​      mysql事务是怎么实现的      
- ​      mysql锁，行锁，表锁 ，什么时候发生锁，怎么锁，原理      
- ​      数据库优化，最左原则啊，水平分表，垂直分表

mysql索引失效场景

Innodb的索引实现

MySQL索引类型， 底层的数据结构

SQL 索引，存储引擎对比，B+、B-、红黑树对比，Hash 索引和联合索引

MySQL 和 Redis 对比，我把能知道的都说了，还是没答到点上

MySQL 索引，存储引擎，查询优化

数据库表A有m条数据，B有n条数据， left join一下， 有多少条数据。

MySQL外键删除策略？

如何做的MySQL优化？

MySQL索引结构？介绍一下B树和B+树？MyISAM和InnoDB索引的区别？

MySQL分库分表的方案？
（我介绍了我们使用的三种方式，hash法、range法以及当前正在使用的hash+range法）

事务隔离级别，MySQL默认级别，（可重复读），为啥使用可重复读？（可重复读+MVCC达到了序列化要求）

mysql存储引擎

mysql数据存到哪的？

主从复制流程

InnoDB索引用的什么数据结构？B+树是怎么存储数据的？

Mysql:怎么找出表中重复的数字

oracle--mysql数据库迁移，不停止业务的前提下怎么迁移（双写？？缓存一致性？？）

MySQL和Redis区别，原理

sql找出每个班级成绩排名第二的学生

mysql事务的隔离级别

mysql的事务、隔离级别

说一下mysql的事务隔离级别，然后讲了四个隔离级别，以及对应产生的问题（脏读不可重复读幻读），以及InnoDB对应的2 3级别的实现，MVVC的实现，两个隔离级别产生Review的时间点和次数的区别，还有Next-Key Lock ，行锁加间隙锁。  

问了mysql的引擎，索引，有哪些索引，然后问了主键索引和非主键索引的区别，讲了聚集索引，然后问了索引访问的过程，问了用聚集索引和不用的磁盘io访问次数的不同。

存储引擎，InnoDB

MySQL 中的索引为什么用 B+ Tree 而不用 B Tree

MySQL 中如何强制走指定的索引

存储引擎，B+ Tree 的结构，最左匹配原则

MySQL 的默认隔离级别能否解决幻读的问题

InnoDB 引擎的特点，支不支持事务

mysql 有几种数据库引擎。（面试官一开始说成了 mybatis 的存储引擎。）

mysql索引

Innodb和MyISAM区别 稀疏索引和密集索引

mysql最左匹配原则

mysql事务隔离级别 事务并发产生的问题

mysql的锁 mysql的死锁

MVCC

三大范式

MySQL索引的机制，我说的是B+，不知道是不是他的意思
为什么要用索引，好处是？坏处是？
简单介绍一下MySQL的事务。这里我又好难了，又不知道回答的方向是什么。于是就说了事务的隔离，MySQL的引擎
数据库回滚的原理，这个我还真不怎么会

mysql和redis怎么保证数据一致

# 数据库

你会怎么设计数据库表结构

数据库有哪些索引？

如何防止sql注入

缓存和数据一致性，怎么处理。流式计算

把乐观锁加在数据库上面，怎么实现

数据库原理，数据库中间件，索引优化

讨论了一下数据库表设计

数据库了解多少，索引说一下，存储引擎比较，热备份、冷备份

数据库select查询优化问题。

数据库的隔离性问题，acid，脏读，不可重复读、幻读。

一个实时通讯软件怎么设计他的数据库表

数据库引擎MyISAM和InnoDB的区别

那如果数据量很大，并且我要保证实时数据和历史数据有交集有历史沉淀，你会怎么设计?

数据库事务隔离级别

事务的特性 ACID ， 数据库的死锁发生的情景

数据库索引有了解吗，你这个项目用了索引吗，用在了哪张表，为什么要用索引，索引快在哪里，事务隔离级别，传播方式这些介绍下。

用户量增多了怎么办，服务器压力太大了你会用什么方式，数据库呢，遇到高并发呢，你会改变表结构吗。

数据库：索引、Join、Left Join、Right Join、Union 区别、数据库三范式，设计表时是如何考虑的

数据库：索引、存储引擎对比、查询优化

分库分表，数据库事务，分布式事务

有没有用过数据库 ， 怎么去连 。 哪几个步骤？ 说一下。 数据库连接池了解吗， 有什么好处？有没有写过复杂sql  游标了解吗

数据库用吗？ 平时写sql吗？ 写过复杂的sql吗？ 多少数据量

数据库查询慢是什么原因。

索引了解吗？ 哪些字段要加索引？加了索引为什么就快了? 底层数据结构说一下，红黑树了解吗？ 为什么不用红黑树？ B+树说一下？B+树在增加数据的时候， 会碰到什么样的问题？

什么是事务？事务隔离级别和MVCC？
（我对于这里比较了解，在征得面试官同意后，展开说了InnoDB底层对于各个隔离级别以及MVCC的实现，包括各种锁、ReadView机制和版本链机制）

看你数据库用的不错，数据库三范式+BCNF范式？

说一下数据库范式

乐观锁和悲观锁，数据库是怎么实现的，数据库语句？

数据库锁按照锁的粒度分为哪几种？用过哪种？为什么会出现死锁？

索引实现?什么时候用索引？

主从复制，为什么要用主从复制？一个数据库同时读和写不行吗？磁盘角度分析？（硬盘、寻址、随机读写...）

数据库查询慢怎么办

索引为什么快，底层是怎么实现的

讲一下索引

讲一下存储引擎

什么时候不走索引

给例子判断什么时候触发行级锁和表级锁

数据库，事务，隔离级别，存储引擎

数据库的存储引擎应用场景，索引结构

大数据量的优化

实现过分库分表吗，有哪些分库分表的组件

数据库，三大范式

数据库的连表查询和嵌套查询，分页查询

数据库增删查改语句重复应该考虑什么

数据库索引，存储引擎

联合索引，举例子什么时候不走

讲讲二级索引
（我当时就蒙蔽了，我索引都准备那么长时间的聚簇索引，其他的东西，上来问我一个 没听过的，我只能扯我知道的索引是什么，索引的结构是用B和B+做的等等等，但是面试官不满意我扯开话题）

那你讲讲B+树存储什么数据
（叶子结点存储数据库中的数据项）

数据库事务的特点，隔离性对应哪几种隔离级别

MVCC 是什么，核心问题是什么，为什么会有 MVCC

数据库的隔离级别，怎么实现可重复读    我回答了MVCC，然后开始讲MVCC的原理，我快讲完的时候他突然说你是在回答我的问题吗？我问的是怎么实现可重复读，两者有关系吗？我后面还解释了一下

数据量大了，数据库怎么处理（扯了分库分表，RedisCluster做缓存）

索引那块怎么优化的，索引底层数据结构？

# XML

XML的解析怎么用什么解析的？

# Servlet

讲一讲Servlet， web.xml 配置路径到servlet的映射， init， service， destroy

# Tomcat

可以看一看Tomcat容器的过程 ，Connector和 Context容器两大部分。 完成从socket到 request和Response对象的构造

# Socket

socket通信怎么建立的

socket  websocket 会从tcp里面引出来  

# 前端

两次点击，怎么防止重复下订单

怎样防止表单重复提交

一个n层嵌套的json字符串怎么解析

cookie和session区别

get和post区别

网址中输入URL，一系列过程

状态码，知道的讲一下

get和post区别，post一定是安全的么？怎么解决登录信息被截取？

淘宝的登录就是get方式，怎么保证安全？

项目的JS和AJAX也是自己写的吗，介绍下你是如何开发前后端的

怎么不用经过很多层直接接收前端传阿里的东西；A用户登录，怎么保证他不读到B用户的信息？（拦截器，threadlocal类）

问我session那块，我的session共享是怎么做的，为什么这么做（面试官觉得我这么做没必要，跪），然后问session使用的过程，和cookie的关系

问了一个页面重定向的问题，问我一个页面自动跳转另一个页面怎么实现，我说了前端和后端都可以做跳转，然后问我各自的具体是怎么做的，这部分我没答好，没了解过这部分，然后问了301和302的区别，我只知道都是重定向，也没答好，（一个是临时的一个是永久的，我连这个都没答出来）

如果不用这个单点登录，怎么管理 session  

cookie 和 session 的区别

post 和 get 的区别

转发和重定向的区别

请求在服务器端的过程

controller 和 service 和 dao 怎么关联起来的

restful

前端语言与 Java 性能对比

不使用 Spring 框架 或者 JSP & Servlet 如何实现浏览器和服务器之间的通信

输入 URL 到前端渲染的过程

# 网络概述

七层模型

tcp的五层

常见的每层的代表协议

IOS7层变成为什么变成5层，为什么要分层？

有网络层的存在，为什么还要传输层

OSI七层网络模型，常见协议作用于哪层，交换机和路由器区别，ping指令原理

# TCP

三次握手，四次挥手 

如果2次握手会怎么样，四次回收如果服务端直接把ack和fin一起返回做三次挥手会怎么样

窗口机制，你了解吗

如果用TCP进行服务器某端口的探测，你要怎么改tcp使得其消耗最少，面试官提示过我，tcp先发syn包，然后收到ack之后，直接回一个reset

如果有一台机器B，去模拟机器A，向C发送syn包，这个时候会怎么样，讲真的，我一脸懵逼。

TCP的原生API用过没

tcp如何解决丢包问题

tcp和ip区别。说下ip的包头和tcp的包头。

TCP可靠性保证怎么实现

三次握手中为什么不是两次？为什么不是四次？

tcp滑动窗口和阻塞避免

TCP 中 time-wait 状态

TCP 四次挥手，如果不等 2MSL 的话整个网络会出现什么情况

TCP 三次握手，标志位怎么设，TIME_WAIT 发生在哪儿

TCP与UDP区别 TCP的流量控制和拥塞机制 三次握手和四次挥手

# UDP

和TCP的区别

应用场景

ftp 怎么实现的，，，

# HTTP

简述下http，状态码

HTTP状态码

Http怎么实现长链接的？http2.0的特点

# 加密

加密方式

非对称传输秘钥，对称传输数据

常见的加密算法~~

密码采用哪种加密方式（MD5），你为什么要用这种方法，这种方式又不安全的地方，你会怎么解决它。

# 计算机网络

DNS寻址过程，递归~

长连接实现

mac地址和ip地址，瞎扯了写

网站输入一网址过程，具体讲一下DNS解析过程。

hosts文件

五层模型

arp协议和ip协议

访问百度的过程

浏览器从输入URL到返回结果中间经历了什么？

七层模型，每层用的协议

计网的ARP协议

端口的实现

浏览器输入URL，流程

# 负载均衡

负载均衡反向代理，这个时候，访问后台的那个ip到底是客户还是反向代理，还怎么统计ip？

负载均衡了解吗，如果让你实现负载均衡你会使用哪种方法，为什么要用这种方法，其他方式又了解过吗，各自方式的特点。

负载均衡的策略

# Nginx

nginx

- 怎么配置负载均衡
- 怎么限流
- 怎么使用nginx缓存
- 为什么使用nginx，有别的替代品吗
- nginx的压力测试，你测试过吗，能抗住多少压力

nginx是如何实现反向代理的，哪一层的方向代理？ 应用层

如何向外提供HTTPS协议的服务， 在内网使用http协议， 通过nginx配置来进行实现

nginx可承受的压力

# Linux

如何修改linux的文件权限

命令

- 常见的命令
- sed 和 awk 感觉linux必考。。
- linux的使用场景，你什么时候会用linux -- 》 布置服务器
- 怎么查看进程和杀死进程
- 打印一个文件夹中的所有文件

linux指令：观察端口netstat、内存top、磁盘df、进程打开多少文件夹怎么看（我说了ps…不对，应该lsof ）

linux中数据怎么存储，关于数据块怎么优化存储。随机读和顺序读。

linux内存管理，以及其中的算法。

Linux平台：查看文件指令（tail/sed）、进程启动方式（命令行直接运行可执行文件）

Linux中epoll和select区别

Linux进程间的通信方式， 管道，有名管道，socket，共享内存，消息队列

Linux常见的操作指令

Linux系统下的常用指令

Linux常用指令，如何查看某个ip被哪个进程占用

# 操作系统

进程、线程、协程区别。用过协程吗？

虚拟内存和物理内存之间如何联系的？什么时候进行交换。

了解线程与协程的区别嘛？协程有哪些优势？把所有多线程都替换成协程实现可以嘛？

进程通信方式

锁在操作系统层面实现原理（回答那么多，其实面试官的意思是想让我回答原子性三个字。。。）

进程中文件写怎么保证安全？我操作系统那块不熟，就提了JAVA中的ReadWritelock底层实现。

如何实现进程间特定场景下的高效通信， 问了存储相关的问题。

死锁的四个必要特性， 非共享， 持有并等待， 非抢占， 循环等待

死锁避免 死锁预防

操作系统了解说，说一下你设计操作系统要几个模块。
（磁盘管理  线程管理  IO管理  文件管理）

OS进程间通信的方式？Java使用的哪种方式？

进程与线程的区别

进程和线程

进程通信的几种方式

死锁，死锁避免，预防

# 计算机组成原理

常见计算机原理的知识点

- ​      float在计算机中是怎么存储的，当时被问到的时候，我也在问自己，怎么存的~~~ 佛了      
- ​      线程和进程的区别      
- ​      线程的通信方式，进程的通信方式      
- ​      系统线程的数量上限是多少      
- ​      页式存储的概念      
- ​      内存碎片，你有了解过吗，有想过解决方案吗~

磁盘的寻址方法

一个CPU单核，同时只能处理一个指令，是或否？

一个CPU 8核，最多同时只能处理8条指令，是或否？

# JVM虚拟机

jvm的回收算法

 full gc怎么触发

gc算法

高吞吐量的话用哪种gc算法

full gc问题，怎么排查

jvm的回收策略

ClassLoader原理和应用

jvm分区模型

- 首先是模型分成哪几块，堆 栈等等。。
- 哪些是线程私有的哪些是共有的
- 1.6之前和现在1.8哪些地方做了改动(主要是静态区的变化)

垃圾回收

- 三种回收算法
- 常见的垃圾回收器
- root引用和引用计数
- 频繁GC的原因和解决方案
- 高并发后台怎么优化GC，我主要是说了调整eden和surival的比例啥啥啥的

类加载器

- 双亲委任
- 如果发生了冲突，会出现什么情况-- 编译不报错，运行调用bootstrapclassloader加载rt.jar中的类

jvm调优

- 加分项，美团面试的时候一面和面试官讨论了调优的一些细节 --xmns啥的
- jvm工具，jstack jconsole 这些，还是看一丢丢，留个印象

说下java里面的OOM

JVM Server模式与client模式启动的差别？

GC优化，程序中应该如何优化？

JVM内存管理和垃圾回收。哪些操作会导致OOM？循环引用怎么解决？

JVM虚拟机启动有哪些线程？

你平时用的JVM版本是什么？最新版本是什么？

在JDK8中移除永久代，并把方法区移至元空间，这么设计的原因是什么

元空间需要进行GC么？需要的话，元空间的GC是young gc还是full gc

G1的适用场景和实现原理

详细说一下Remembered Set的作用，什么时候会往里面写、更新等

还有一个Collection Set，你知道C Set的作用是什么吗？

再到jvm怎么回收垃圾，说到引用计数和根可达分析，jvm怎么确定根元素

如果一个系统要进行调优你会考虑哪些方面；答:jvm(非常详细的展开），如果有数据库查询可以用索引等等。。。

说一说jvm的分区

JVM内存结构

JVM回收机制，从判断对象死亡、GC Roots、Stop the World、回收算法优缺点讲起，提到引用计数弊端。

JVM中给对象赋值为null，一定会被回收么？举个case，讲到了内存泄露。

JVM的回收算法，当我背到一半后，打断了，说我知道你是为了面试背背而已，过几天忘了

major gc和full gc的区别，我脑抽，说反了，被鄙视了

聊了这么久虚拟机，你调过优吗？怎么调的。。。一脸懵逼

JVM 内存划分， 堆内存分代

JVM中的内存区域划分，堆的分代，为什么分代， 垃圾回收算法，垃圾回收器

JVM堆划分，方法区

执行了 system.gc(）触发的GC机制，FGC， 如何进行回收的， 分代回收

系统周期性卡顿，如何定位问题，结合GC日志， YGC,FGC， 调整分代的大小， 减小FGC时间

产生FGC的原因

服务器CPU使用率很高，如何排查， top 定位进程， 如果是Java，通过jstack进行线程快照分析，jmap，jhat 等等，

有没有jvm调优经验（没有）

讲下 JVM。这块主要我自己在说，一口气说下来说了有二十多分钟吧，面试官一直没说话，我就一直说，从运行时数据区，讲到一个类具体是如何存储的，再讲到垃圾回收机制和垃圾收集算法，再讲到各个版本的 JDK 的垃圾收集器，再讲到 YoungGC 和 FullGC，再讲 YoungGC 的具体过程，对象是如何分配的，出现 OOM 时如何排查，已经自己在项目的一个 GC 调优做的具体工作  

JVM 运行时数据区，Synchronized 和 ReentrantLock 区别

JVM 运行时数据区

GC 调优

JVM了解吗，说说所知道的
（？？我讲了内存区域、垃圾回收、类加载，然后，面试官说可以了）

Java的垃圾回收机制

Full GC

Java内存模型

内存泄漏，out of memory

FullGC什么时候会发生

outofmemory，内存泄漏

垃圾回收，怎么判断对象需要回收，垃圾回收机制

堆空间怎么分的

jvm内存分区？常量在哪？变量在哪？堆怎么划分的？

怎么判断需要垃圾回收？GC Root？

常见的垃圾回收期

outofmemory遇到过没，设置jvm参数吗？

Java垃圾回收，需要程序员自己回收吗？

jvm内存分区，gc发生在哪？

数组长度不确定，能在栈上分配内存吗？

垃圾回收机制

GC，新生代为什么要采用复制算法

G1

 问我a=2,b=1,c=a+b底层具体是一个什么样的过程，答了java内存的分布，具体在哪个位置，比如常量池在方法区，然后栈存对常量的应用之类的。
问底层呢我答内存拷贝，问有多少次内存拷贝，然后又问在多核cpu和多线程下，然后也是这种情况，cpu和底层又具体是什么样的过程，互相之间怎么影响，怎么不影响。

讲一讲java的内存模型

jvm的内存布局和gc过程

jvm怎么调优，什么看gc的日志之类的

问我对jvm的垃圾回收了解吗，说了从新生代到老年代的整体的过程，用什么垃圾回收算法，举了几个垃圾回收器的例子，说来空间分配担保和可能产生full gc的原因，反正尽可能细的去说自己知道的，越细越好。

JVM 是怎么判断两个类相等

类加载器

类加载过程

双亲委派模型

JVM,，哪些对象需要回收，垃圾收集算法

GC 的过程，引用计数法还有在使用吗

GC 的过程，为什么要分代

CPU 占用率达到 100% 可能由什么造成

那你说说java泄露，可以写一个程序吗？
（我当初一听第一反应就是终于我这个会了，就回答说： 这个问题很好解决，就说 只要写一个程序 无限创建一个new对象，这个对象是强引用，就可以保证堆被撑破，他说不行，我最后又加了一句，在这个基础上，循环引用，不会被GC，面试官最后说还是不行，其实当初也是慌了，就真的不知道该怎么办了，因为以前看过OOM怎么解决，但是没想过怎么产生OOM，觉得能产生OOM的还被面试官一直否决，最后面试完在网上查才知道，其实应该再加一个条件，就是循环引用的同时，保证一个对象必须是GC root，我当初面试也没尝试再说这一句，只能说紧张加学艺不精）
评论：是不是问的是内存泄露，而你好像理解成内存溢出惹…？

发生 FULL GC 的条件

CMS 垃圾收集器的特性，工作的四个流程，哪几个流程 stop the world

项目中关于 FULL GC 调优的细节

JVM 的内存结构，哪些是线程私有，哪些是线程公有

JVM 的结构，垃圾收集算法

JVM 的类加载过程。谈到了双亲委派模型。

怎么打破双亲委派模型。自己实现一个类加载器，怎么打破类加载器？问具体的实现细节。

类加载器都有哪些 双亲委派机制

JAVA内存区域（堆 栈等） JAVA内存模型（工作内存 主内存等）

垃圾回收：年轻代老年代 回收算法 垃圾回收器等

内存溢出的原因 如何排查

强引用 弱引用 软引用 虚引用

cpu标高100%什么原因？为什么会出现死循环？

介绍垃圾回收算法
介绍复制回收算法
哪种垃圾回收算法效率最低
详细介绍标记算法，标记清除流程

# RPC远程过程调用

rpc原理

RPC框架，同步异步，响应时间，这些都被问到过，还让设计过

如果你自己设计一个rpc框架，怎么设计？

服务调用超时可能由什么造成

后端服务出现了大量超时，怎么排查？（支支吾吾答了一通，答得不好。）

# 分布式

多个服务端上下线怎么感知

分布式一致性讲一讲

分布式锁的实现方式，zk实现和redis实现哪个比较好

分布式数据一致性

一致性哈希

分布式事务

降级策略和降级框架

分布式协议PAXOS/zab/raft都说下原理和区别；

CAP理论以及典型运用

分布式协议有哪些，Raft协议

说一下Raft和Paxos协议的区别

一次性hash，大致是想说如何最小的代价，实现在hash分发请求到服务器时，出现该台服务器不能存放的情形(雪花算法)

事务，分布式事务， 如何实现分布式事务， 两阶段提交，（过程）

分布式系统又了解吗，分布式的特点，你会怎么搭建分布式系统，集群了解吗，集群的优点讲讲，你会怎么用集群。

CAP 和 BASE 理论，以及个人的理解

2PC 和 3PC

CAP 和 BASE

 2PC 和 3PC、一致性 Hash

CAP知道吗？ 说一下。

分布式结构，怎么保证数据一致性？如果从服务器出问题了怎么办？

分布式缓存

分布式，分布式锁的实现

讲一讲一致性哈希

分布式系统需要一个唯一的 ID 生成器，怎么设计？（没了解过分布式的内容，答得也不好，自己想的。）又扯到了数据库的读写分离以及怎么实现。

# Dubbo

 dubbo、netty介绍原理

dubbo

- 原理，怎么用
- 和eureka有什么区别
- 为什么要用dubbo，不用行不行？
- 跨域请求的一些知识点

Dubbo 源码读过吗？

讲 Dubbo SPI 的源码？

Dubbo 服务暴露源码 + Dubbo 服务注册 

讲一下 Dubbo 服务引用底层？开始一直以为是动态代理调用 invoker 模型，结果说不够底层原理问 RPC 协议。

讲一下 Dubbo RPC 协议调用过程，使用哪些协议？  

Dubbo 的连接（这里问的贼细，全靠推理推出来的。。）

Dubbo 的负载均衡

dubbo了解吗？（。。不了解）

# Netty

Netty原理

Netty解决了rpc 、 分布式调度系统哪一些共性问题？

Netty怎么使用少线程解决并发请求的问题的

# ZooKeeper

 zk挂了怎么办

zookeeper原理大概讲下。以及你用到的实际案例，比如HA

zookeeper分布式锁

说下自己对  Zookeeper 的理解已经在项目中是如何应用的，自己扯 ZAB，已经 ZK 在 Dubbo 做注册中心，在 Kafka 中做集群管理，还有分布式锁实现，集群选举 Raft 和 Paxos 区别已经具体的流程  

Zookeeper了解吗？（。不了解）

# Docker

Docker的原理

docker

- 和vmware的区别
- 你一般是怎么部署的 IDEA，直接把项目部署到docker并打包到云服务器
- docker的好处，小，快

# 消息队列

消息队列原理介绍（不太会）

死信队列

MQ

- ​      为什么选择rabbitMQ， 社区活跃，高并发      
- ​      别的MQ也要了解，比如RocketMQ(阿里的，java开发，再次开发，并发高，分布式，出错少)      
- ​      ActiveMQ， kafka       
- ​      topic 和 block       
- ​      MQ的作用，同步转异步，消除峰值      
- ​      如何保证数据一致性，即原子性，ack      
- ​      消息队列在项目中的应用

如果让你自己设计一个消息队列，怎么设计，消息队列底层最核心的技术是什么？  个人观点：消息存储+通信  其他就是高可用和高可靠的保障了，比如注册中心、负载均衡、确认应答

Kafka 架构原理，消费异常处理，重复消费处理，Kafak 可靠性，Kafak 副本机制，还一个什么高位低位，我不会

聊项目，消息队列怎么用的？ 策略是什么？

kafka怎么保证消息不丢失

mq怎么用的，有什么好处，还了解过哪些mq（扯了RocketMQ和Kafka）？

# 登录

多点登陆怎么实现

登录功能考虑过安全问题吗，你怎么解决的。

单点登录

# 秒杀

 秒杀场景设计，应付突然的爆发流量

具体的秒杀细节怎么做的？秒杀的核心技术在哪儿？你怎么保证的？

超卖怎么解决？

秒杀商品的库存放在哪里，如何保证redis和DB的一致性

不使用缓存设计一个秒杀系统如何优化（说了下主从架构、读写分离 + MQ）

秒杀系统？十个东西是十一个人抢，怎么保证不出问题？？

秒杀平台怎样预减库存，MQ 有什么作用

怎样防止超卖现象

MQ 实现了异步但订单仍然有可能出现超卖，怎么解决

秒杀平台的优化，如何实现更高并发量、高可用性

如何解决超卖现象

# 设计模式

静态代理和动态代理的区别

单例模式，饿汉式，懒汉式，线程安全的做法，两次判断instance是否为空，每次判断的作用是什么。

面试中设计模式其实也是挺重要的

- 观察者模式
- 适配模式
- 工厂模式 等等

单例模式的六种实现及优缺点

静态单例实现的优势

什么情况使用枚举单例和容器单例

讲一讲建造者模式

解释下装饰器模式，回答不会，以前这个的确没准备

动态代理原理和实现，画出代理模式UML，我说不会画，然后面试官挺好的，说你是非计算机专业的，那就不用画了，那就在纸上写一个过程吧

动态代理实现，说一下过程

写了单例，具体解释了volatile禁止指令排序机制和对象new过程。

写了个单例模式。好久没写了有点忘了，双重锁检查写错了两个地方，被指出来了，尴尬

工厂模式的三种，以及个人的理解

代理模式，JDK 和 CGLIB，问我有没有用过，我没用过，不过看过 Dubbo 的源码，扯了下代理模式和单例模式在 Dubbo 中的应用，不过面试官应该不会 Dubbo，就没细问

说一下你知道的设计模式， 说一下单例的经典问题。设计模式的六大准则了解吗？、

依旧单例 以及单例的经典问题。说一下单例的使用场景吧

什么是动态代理

设计模式，单例模式，适配器模式

开闭原则

单例模式，实现方法，应用场景

生产者和消费者模式应用场景

mvc模式是什么
（这里确定了面试官看我简历了，因为在简历上的项目有写到根据mvc模式做项目，具体介绍了下各自的工作）

你用过什么设计模式
（介绍了单例，工厂，装饰器，观察者就被打断了）

讲一讲装饰者模式
（直接介绍了使用它的原因，也说了说 设计原则）

你用过装饰者模式做过什么东西

那你了解装饰者模式的应用场景是什么
（还是在死磕我这个问题，我只能说是增加一个类型的功能，但保证不修改类的内部结构，但是就是要问我具体是什么,我只能说我知道单例，还有其他模式的应用场景，这个我真的想不起来了，当时没意识到，从这个问题没答好开始，已经步入绝望了）

写一个单例模式

说说你熟悉的设计模式 在哪里使用过

# 单元测试

单元测试介绍一下，多模块依赖怎么单元测试。Mockito

有没有做过单元测试，不能连数据库， 你怎么做的单元测试。

# 大数据

大数据相关，MapReduce

# 机器学习

机器学习有了解么？

# Git

git中是如何解决冲突的(自己根据实际使用随便答了一些)

# 开放题/项目

项目中的可用性，性能，扩展性 如何提升

设计一个网络的时候，需要考虑的因素

如何去提升系统的可用性，性能，扩展性，伸缩性，等等， LVS，反向代理，集群，异步，缓存等等

收获最大的一个项目， 着重介绍， 项目的演进过程， 从提高系统可用性的来进行演进，例如redis的可用性

开放性的系统设计，一个车票查询系统，对最短时间，最短开销进行求解，类似于12306的火车票购票系统

说说你项目的一些功能特点已经实现方式还有实现难点等。

画下项目的构成图

项目中的难点，如何解决的，（GitHub 上找别人的代码、博客上找答案）

线上的问题，如何去排查， 怎么去看到当前程序运行的状态。平时怎么调试的？

项目中数据安全性如何保证的？
（我答对于请求使用 session+token+时间戳 校验，对于传输的数据进行非对称加密，使用HTTPS，面试官不是很满意）

画一下项目的后端架构图

项目中遇到的最大的问题？

项目中如何处理终端之间的信息交互？
（Web网页之间使用的WebSocket, 与手机的交互使用的自己用Netty实现的IM框架）

项目中的并发临界资源是怎么处理的？

项目中用的哪种垃圾回收机制？

项目中用的垃圾回收机制。设置JVM参数

项目涉及缓存，所以问了蛮久基于业务方面缓存怎么做，比如缓存时间怎么设置，缓存哪部分数据，要取到很久之前的数据该怎么做之类的。（用Redis做的缓存）

场景题：设计一个权限系统

生成订单号的实现

项目架构的优化

你所了解的所有安全性问题以及解决思路

项目中 Redis 和 RabbitMQ 的作用是什么

假设你现在有一个高并发的服务，你要从那些地方去考虑。（楼主不咋会，又从高并发扯到了架构的学习。）

实现一个秒杀系统

实现一个优先级队列

自己实现spring 的ioc怎么做

如何用udp保证可靠性

让你设计一个高性能的购物网站，你怎么设计，从前端到后台，到数据库